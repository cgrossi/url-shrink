{"version":3,"sources":["clip.svg","LinkSubmit.js","App.js","index.js"],"names":["module","exports","LinkSubmit","state","fullurl","shorturl","handleSubmit","e","a","preventDefault","axios","method","data","url","response","root","Url","window","location","href","host","setState","id","handleChange","target","value","handleCopy","document","querySelector","text","createElement","textContent","body","appendChild","select","execCommand","remove","div","style","setTimeout","pathname","then","console","log","replace","className","this","onClick","src","clip","alt","onChange","onSubmit","type","defaultValue","placeholder","Component","App","ReactDOM","render","getElementById"],"mappings":"4GAAAA,EAAOC,QAAU,IAA0B,kC,2RCmF5BC,E,2MA3EbC,MAAQ,CACNC,QAAS,GACTC,SAAU,I,EAGZC,a,sCAAe,WAAOC,GAAP,iBAAAC,EAAA,4DACbD,EAAEE,iBADW,SAIQC,IAAM,CACzBC,OAAQ,OACRC,KAAM,CAAEC,IAAK,EAAKV,MAAMC,SACxBS,IAAK,4DAPM,OAITC,EAJS,OAUTC,EAAOC,IAAIC,OAAOC,SAASC,MAAMC,KACrC,EAAKC,SAAS,CAAEhB,SAAS,GAAD,OAAKU,EAAL,YAAaD,EAASF,KAAKU,MAXtC,yC,wDAcfC,aAAe,SAAChB,GAAQ,EAAKc,SAAS,CAAEjB,QAASG,EAAEiB,OAAOC,S,EAG1DC,WAAa,WACX,IAAIb,EAAMc,SAASC,cAAc,cAC7BC,EAAOF,SAASG,cAAc,YAClCD,EAAKJ,MAAQZ,EAAIkB,YACjBJ,SAASK,KAAKC,YAAYJ,GAC1BA,EAAKK,SACLP,SAASQ,YAAY,QACrBN,EAAKO,SACL,IAAIC,EAAMV,SAASG,cAAc,OACjCO,EAAIN,YAAc,UAClBM,EAAIC,MAAQ,wIACZX,SAASC,cAAc,2CAA2CK,YAAYI,GAC9EE,WAAW,WACTF,EAAID,UACH,M,mFAKH,IACMI,GAAW3B,EADPG,KACWC,OAAOC,SAASC,MAAMqB,SAC3B,MAAbA,GACD9B,IAAM,CACJG,IAAI,uDAAD,OAAyD2B,GAC5D7B,OAAQ,QACP8B,KAAK,SAAA3B,GACN4B,QAAQC,IAAI,WAAY7B,EAASF,KAAKC,KACtCI,OAAOC,SAAS0B,QAAQ9B,EAASF,KAAKC,S,+BAM1C,OACE,yBAAKgC,UAAU,cAEb,yBAAKA,UAAU,qBACZC,KAAK3C,MAAME,UACZ,yBAAKwC,UAAU,uBACb,0BAAMA,UAAU,aAAaC,KAAK3C,MAAME,UACxC,4BAAQ0C,QAASD,KAAKpB,YAAY,yBAAKsB,IAAKC,IAAMC,IAAI,iBAI1D,0BAAMC,SAAWL,KAAKvB,aAAc6B,SAAUN,KAAKxC,cACjD,2BAAO+C,KAAK,MAAMC,aAAcR,KAAK3C,MAAMC,QAASmD,YAAY,2BAChE,4BAAQF,KAAK,UAAb,qB,GArEeG,aCOVC,MATf,WACE,OACE,yBAAKZ,UAAU,OACb,+EACA,kBAAC,EAAD,QCLNa,IAASC,OAAO,kBAAC,EAAD,MAAShC,SAASiC,eAAe,W","file":"static/js/main.56240248.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/clip.c5091260.svg\";","import React, { Component } from 'react'\r\nimport axios from 'axios';\r\nimport Url from 'url-parse';\r\n\r\nimport './LinkSubmit.css'\r\nimport clip from './clip.svg'\r\n\r\nclass LinkSubmit extends Component {\r\n  state = {\r\n    fullurl: '',\r\n    shorturl: ''\r\n  }\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n\r\n    let response = await axios({\r\n      method: 'post',\r\n      data: { url: this.state.fullurl },\r\n      url: 'https://morning-sands-71044.herokuapp.com/links/create/'\r\n    })\r\n    \r\n    let root = Url(window.location.href).host\r\n    this.setState({ shorturl: `${root}/${response.data.id}` })\r\n  }\r\n\r\n  handleChange = (e) => { this.setState({ fullurl: e.target.value }) }\r\n\r\n\r\n  handleCopy = () => {\r\n    let url = document.querySelector('.short-url')\r\n    let text = document.createElement('textarea')\r\n    text.value = url.textContent\r\n    document.body.appendChild(text)\r\n    text.select();\r\n    document.execCommand('copy');\r\n    text.remove()\r\n    let div = document.createElement('div')\r\n    div.textContent = 'Copied!'\r\n    div.style = 'background: rgba(255, 255, 255, 0.5); color: #444; position: absolute; top: -32px; left: -8px; padding: 5px 10px; border-radius: 2px;'\r\n    document.querySelector('.LinkSubmit .shortened-container button').appendChild(div)\r\n    setTimeout(() => {\r\n      div.remove()\r\n    }, 1000)\r\n    \r\n  }\r\n\r\n  componentDidMount() {\r\n    let url = Url\r\n    const pathname = url(window.location.href).pathname\r\n    if(pathname !== '/') {\r\n      axios({\r\n        url: `https://morning-sands-71044.herokuapp.com/links/read${pathname}`,\r\n        method: 'get'\r\n      }).then(response => {\r\n        console.log('redirect', response.data.url)\r\n        window.location.replace(response.data.url)\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"LinkSubmit\">\r\n\r\n        <div className=\"display-container\">\r\n          {this.state.shorturl && \r\n          <div className=\"shortened-container\">\r\n            <span className=\"short-url\">{this.state.shorturl}</span>\r\n            <button onClick={this.handleCopy}><img src={clip} alt=\"clipboard\" /></button>\r\n          </div>}\r\n        </div> \r\n\r\n        <form onChange ={this.handleChange} onSubmit={this.handleSubmit}>\r\n          <input type=\"url\" defaultValue={this.state.fullurl} placeholder=\"Enter a URL to shorten\" />\r\n          <button type=\"submit\">Shorten URL</button>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default LinkSubmit","import React from 'react';\r\n\r\nimport './App.css'\r\nimport LinkSubmit from './LinkSubmit'\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <h1>Have a Long Link? Paste It Below To Shorten It!</h1>\r\n      <LinkSubmit />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}